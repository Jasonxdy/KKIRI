<!DOCTYPE html>
<html lang="ko">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/js/swiper.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js" crossorigin="anonymous"></script>
    
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,400,500,700,900&display=swap&subset=korean" rel="stylesheet">
    <link rel="stylesheet" href="../index 페이지 - 진웅/css/common.css">
    <link rel="stylesheet" href="../index 페이지 - 진웅/css/findId.css">
    <link rel="stylesheet" href="../index 페이지 - 진웅/css/header.css">
    <link rel="stylesheet" href="../index 페이지 - 진웅/css/footer.css">

    

    <script src='../index 페이지 - 진웅/js/index.js'></script>
    <title>KKIRI(끼리)</title>
    </head>
    <body>
      <div id="wrapper">
        <div id="header">
          <div class="container">
          	<div class="row">
          		<div class="col-md-12">
                <h1 class="logo"><a href="#"><img src="../index 페이지 - 진웅/img/logo.png" alt="로고"></a></h1>
                <div class="nav-section">
                  <a href="#">로그인</a>
                  <a href="#">회원가입</a>
                  <span class="separation"> | </span>
                  <a href="#">고객센터</a>
                  <!-- <div class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                      <div class="dropdown-menu" aria-labelledby="dropdown01">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                  </div> -->
                </div>
          		</div>
          	</div>
          </div>
        </div>
        <div id="container">
          <!-- 배너 start -->
          
         <script>
           $(function(){
            $(".nav-tabs>li>a").each(function(i){ 
              $(this).on({
                click : function(){
                  $(".nav-tabs>li>a").removeClass("active");
                  $(this).addClass("active");
                  $(".tab-pane").hide(0);
                  $(".tab-pane").eq(i).show(0);
                }
              });
            });
           });
         </script>
          <div class="container">
            
              <ul class="nav nav-tabs">
                <li class="nav-item">
                  <a class="nav-link active" data-toggle="tab" href="#id1">아이디 찾기</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-toggle="tab" href="#id2">비밀번호 찾기</a>
                </li>
               
              </ul>
              <div class="tab-content">
                <div class="tab-pane active" id="id1">
                  <h2 style="text-align: center;">회원님의 아이디를 찾아드립니다</h2>
                  <br>
                  <br>

                  <form action="findId" method="POST">

                      <div style="text-align: center; margin: 0 auto;">

                        <div class="input-group mb-3" style="width:400px; text-align: center; margin: 0 auto;">
                          <input type="text" id="email" class="form-control" placeholder="회원님의 이메일" 
                          aria-label="Recipient's username" aria-describedby="button-addon2">

                          

                          <div class="input-group-append">
                            <button class="btn btn-outline-secondary" id="button-addon2"
                            type="submit" name="inputEmail" >이메일 인증</button>
                          </div>
                        </div>
                      </div>
                      <div>
                        <span id="checkEmail">&nbsp;</span>
                      </div>

                      <br>
                      
                      <div style="text-align: center; margin: 0 auto;">

                        <div class="input-group mb-3" style="width:400px; text-align: center; margin: 0 auto;">
                          <input type="text" class="form-control" placeholder="인증번호 입력" 
                          aria-label="Recipient's username" aria-describedby="button-addon2">

                          
                        </div>
                      </div>
                      

                        <br>
                        <button type="submit" class="btn btn-primary">아이디 찾기</button><br>
                        <br>
                        

                  </form>



                  
                </div>

                <div class="tab-pane" id="id2">
                  <h2 style="text-align: center;">회원님의 비밀번호를 찾아드립니다</h2>

                    <form class="find-pwd-form">
                      <div>
                        <input type="password" class="form-control" name="inputEmail" 
                            placeholder="기존 비밀번호" style="width:300px">
                      </div>
                      <br>
                      <br>
                      <div>
                        <input type="password" class="form-control" name="inputEmail" 
                            placeholder="새로운 비밀번호" style="width:300px">
                      </div>
                      <br>
                      <br>
                      <div>
                        <input type="password" class="form-control" name="inputEmail" 
                            placeholder="비밀번호 재확인" style="width:300px">
                      </div>
                      

                           

                    </form>
                    <br>
                    <br>
                    <br>
                    <button type="submit" class="btn btn-primary center">수정</button>&nbsp;&nbsp;
                    <button type="reset" class="btn btn-secondary center">취소</button><br>


                </div> 
              </div>
          </div>


        <div id="footer">
          <div class="container">
          	<div class="row">
          		<div class="col-md-12">
          			<div class="row">
          				<div class="col-md-4 footer-logo-wrap">
                    <img class="footer-logo" src="img/logo2-white.png" alt="푸터로고">
          				</div>
          				<div class="col-md-8">
                    <p class="copyright">&copy; 2020 KKIRI COMPANY. ALL RIGHTS RESERVED.</p>
          				</div>
          			</div>
          		</div>
          	</div>
          </div>
        </div>
        <div id="button-top">
          <button type="button" class="top-btn">TOP</button>
        </div>
      </div>
    </div>

        <script>
          function scrollFunction(){
           if($(window).scrollTop()>=200){
                 $('#button-top').show(0);
             }else{
                 $('#button-top').hide(0);
             }
          }
       $(function(){
         scrollFunction();
         $(window).scroll(function(){
           scrollFunction();
         });
         $('#button-top').on({
             click : function(){
                 $('html,body').stop().animate({scrollTop:0},600);
             }
         });
        
      });


       // 각 유효성 검사 결과를 저장할 객체
       var signUpCheck = { 
        		"id":false,
        		"idDup":false,
				"pwd1":false,
				"pwd2":false,
				"name":false,
				"phone":false,
				"name":false,
				"email":false
				};
        
   	 	// 실시간 입력 형식 검사
		// 정규표현식
		$(document).ready(function(){
			
			// jQuery 변수 : 변수에 직접적으로 jQuery메소드를 사용할 수 있음.
			var $id = $("#id");
			var $pwd1 = $("#pwd1");
			var $pwd2 = $("#pwd2");
			var $name = $("#name");
			var $phone2 = $("#phone2");
			var $phone3 = $("#phone3");
			var $email = $("#email");
			
			
			// 아이디  유효성 검사
			$id.on("input", function(){
				// 첫글자는 영어 소문자, 나머지 글자는 영어 대,소문자 + 숫자, 총 6~12글자
				var regExp = /^[a-z][a-zA-z\d]{5,11}$/;
				if(!regExp.test($id.val())){
                	$("#checkId").text("아이디 형식이 유효하지 않습니다.").css({"color":"red","font-weight":"bold"});
                	signUpCheck.id = false;
                }else{
                	signUpCheck.id = true;
                 	$.ajax({
                		url : "idDupCheck",
                		data : {memberId: $id.val() },  // 입력된 값 넘김
                		type : "post",
                		success : function(result){  // 성공시  함수 실행
                			
                			if(result == "true"){    // result 값에 따라, if else 문
                				$("#checkId").text("사용 가능한 아이디 입니다.").css({"color":"green","font-weight":"bold"});
                				signUpCheck.idDup = true;
                			}else{
                				$("#checkId").text("사용할 수 없는 아이디 입니다.").css({"color":"red","font-weight":"bold"});
                				signUpCheck.idDup = false;
                			}
                		},
                		
                		error : function(e){
                			console.log("ajax 통신 실패");
                			console.log(e);
                		}
                	}); 
                	signUpCheck.idDup = true;
                }
			});

			// 비밀번호  유효성 검사
			$pwd1.on("input", function(){
				//영어 대,소문자 + 숫자, 총 6~12글자
				var regExp = /^[A-Za-z0-9]{6,12}$/;
				if(!regExp.test($pwd1.val())){ 
                	$("#checkPwd1").text("비밀번호 형식이 유효하지 않습니다.").css("color","red");
                	signUpCheck.pwd1 = false;
                }else{
                	$("#checkPwd1").text("유효한 비밀번호 형식입니다.").css("color","green");
                	signUpCheck.pwd1 = true;
                }

			});
			
			
			// 비밀번호 일치 여부
			$pwd2.on("input", function(){
				if($pwd1.val().trim() != $pwd2.val().trim()){
					$("#checkPwd2").text("비밀번호 불일치").css("color","red");
					signUpCheck.pwd2 = false;
				}else{
					$("#checkPwd2").text("비밀번호 일치").css("color","green");
					signUpCheck.pwd2 = true;
				}
			});
			
			
			// 이름 유효성 검사
			$name.on("input", function(){
				var regExp =  /^[가-힣]{2,}$/; // 한글 두 글자 이상
				
				if(!regExp.test($(this).val())){ // 이름이 정규식을 만족하지 않을경우
					$("#checkName").text("한글 두 글자 이상을 입력하세요").css("color","red");
					signUpCheck.name = false;
				}else{
					$("#checkName").text("정상입력").css("color","green");
					signUpCheck.name = true;
				}
			});
			
			
			// 전화번호 관련
		 	$(".phone").on("input",function(){
		 		
				// 전화번호 input 태그에 4글자 이상 입력하지 못하게 하는 이벤트
                if ($(this).val().length > $(this).prop("maxLength")){
                    $(this).val($(this).val().slice(0, $(this).prop("maxLength")));
                }
                
				// 전화번호 유효성 검사
                var regExp1 =  /^\d{3,4}$/; // 숫자 3~4 글자
                var regExp2 =  /^\d{4,4}$/; // 숫자 4 글자
                
                if(!regExp1.test($phone2.val()) || !regExp2.test($phone3.val())){
                	$("#checkPhone").text("전화번호가 유효하지 않습니다.").css("color","red");
					signUpCheck.phone = false;
                }else{
					$("#checkPhone").text("유효한 전화번호입니다.").css("color","green");
					signUpCheck.phone = true;
				}
				
				
            });
			
			// 이메일 유효성 검사
			$email.on("input", function(){
				var regExp =  /^[\w]{4,}@[\w]+(\.[\w]+){1,3}$/; // 한글 두 글자 이상
				
				if(!regExp.test($(this).val())){ // 이름이 정규식을 만족하지 않을경우
					$("#checkEmail").text("이메일 형식이 유효하지 않습니다.").css("color","red");
					signUpCheck.email = false;
				}else{
					$("#checkEmail").text("유효한 이메일 형식입니다.").css("color","green");
					signUpCheck.email = true;
				}
			});
			
			
		});
        
		// submit 동작
		function validate(){
			
			// 아이디 중복 검사 결과
			//if( $("#idDup").val() == "true")	signUpCheck.idDup = true;
			//else				  				signUpCheck.idDup = false;
			
			for(var key in signUpCheck){
				if(!signUpCheck[key]){
					alert("일부 입력값이 잘못되었습니다.");
					var id = "#"+key;
					$(id).focus();
					return false;
				}
			}
		}






       </script>

    </body>
</html>
